(function(o){function s(b){b.bind=d.partial(d.bind,d.___,b);b.compose=d.curry(d.compose,b);b.curry=d.curry(d.curry,b);b.partial=d.curry(d.partial,b);return b}var t=o.wu,l=Array.prototype.slice,d=o.wu=function b(a){return a instanceof Function?s(a):b.Iterator(a)};d.noConflict=function(){o.wu=t;return d};d.___={};var i=function(b,a){return b instanceof a},j=function(b){return Object.prototype.toString.call(b)},r=function(b){return i(b,d.Iterator)?b:new d.Iterator(b)},h=function(b){return i(b,d.Iterator)?
b.toArray():l.call(b)},n=function(b){return!!b},k=d.StopIteration=function(){};k.prototype=new Error;k.prototype.name="StopIteration";var v=function b(a){var c,e,f,g,p;c=function(u){p=h(u);return function(){return p.length>0?p.shift():this.stop()}};switch(j(a)){case "[object Array]":return c(a);case "[object NodeList]":return c(a);case "[object Arguments]":return c(a);case "[object Object]":if(i(a,d.Iterator)){if(typeof a.next!=="function")throw new TypeError("wu.js: Iterator without a next method!");
}else{c=[];for(e in a)a.hasOwnProperty(e)&&c.push([e,a[e]]);return b(c)}case "[object String]":f=a.length;return function(){if(f>0){g=a.charAt(0);a=a.slice(1);f--;return g}this.stop()};case "[object Number]":return function(){return a--===0?this.stop():a};default:throw new TypeError("wu.js: Object is not iterable: "+a);}};d.Iterator=function(b){if(i(this,d.Iterator)===false)return new d.Iterator(b);this.next=j(b)==="[object Function]"?b:v(b)};d.fn=d.Iterator.prototype=d.prototype;d.fn.all=function(b,
a){return!this.any(b===undefined?d.not(n):d.not(b),a)};d.fn.any=function(b,a){var c;b=b||n;a=a||this;try{for(;;){c=this.next();if(b.call(a,c))return true}}catch(e){if(!i(e,k))throw e;}return false};d.fn.asyncEach=function(b,a,c){var e=this;c=c||this;setTimeout(function f(){try{b.call(c,e.next());setTimeout(f,20)}catch(g){if(!i(g,k))throw g;j(a)==="[object Function]"&&a.call(c)}},20)};d.fn.dot=function(b){var a=l.call(arguments,1);return this.map(function(c){return j(c[b])==="[object Function]"?c[b].apply(c,
a):c[b]})};d.fn.dropWhile=function(b,a){var c=true,e=this;a=a||this;return d.Iterator(function f(){var g=e.next();return c&&b.call(a,g)?f():function(){c=false;return g}()})};var m=function(b){return function(a,c){c=c||this;var e,f=[];try{for(;;){e=this.next();f.push(e);a[b](c,e)}}catch(g){if(!i(g,k))throw g;}return f}};d.fn.each=m("call");d.fn.eachply=m("apply");d.fn.filter=function(b,a){var c=this;a=a||this;return d.Iterator(function(){for(var e;;){e=c.next();if(n(b.call(a,e)))return e}})};d.fn.force=
d.fn.toArray=function(){var b,a=[];try{for(;;){b=this.next();a.push(b)}}catch(c){if(!i(c,k))throw c;}return a};d.fn.has=function(b){return this.any(d.eq(b))};m=function(b){return function(a,c){var e=this;c=c||this;return d.Iterator(function(){return a[b](c,e.next())})}};d.fn.map=m("call");d.fn.mapply=m("apply");d.fn.reduce=function(b,a,c){var e=this.toArray();a=a||e.shift();for(c=c||this;e.length!==0;)a=b.call(c,a,e.shift());return a};d.fn.reduceRight=function(b,a,c){var e=this.toArray();a=a||e.pop();
for(c=c||this;e.length!==0;)a=b.call(c,e.pop(),a);return a};d.fn.stop=function(){this.next=function(){throw new k;};throw new k;};d.fn.takeWhile=function(b,a){a=a||this;return this.map(function(c){return b.call(a,c)?c:this.stop()})};d.autoCurry=function(b,a){a=a||b.length;return function(){return arguments.length<a?a-arguments.length>0?d.autoCurry(d.curry.apply(this,[b].concat(h(arguments))),a-arguments.length):d.curry.apply(this,[b].concat(h(arguments))):b.apply(this,arguments)}};d.bind=d.autoCurry(function(b,
a){var c=l.call(arguments,2);return function(){return a.apply(b,c.concat(h(arguments)))}});d.chain=function(){var b,a=0,c=h(arguments);for(b=0;b<c.length;b++)c[b]=r(c[b]);return d.Iterator(function e(){try{return c[a].next()}catch(f){if(i(f,k))if(c[a+1]===undefined)this.stop();else{a+=1;return e()}else throw f;}})};d.compose=function(){var b=h(arguments),a=b.length;return function(){var c,e=b[a-1].apply(this,arguments);for(c=a-2;c>-1;c--)e=b[c](e);return e}};d.curry=function(b){var a=l.call(arguments,
1);return function(){return b.apply(this,a.concat(h(arguments)))}};d.cycle=function(b){var a=h(b),c=a.length,e=0;return d.Iterator(function(){return a[e++%c]})};var w=function(b,a){return b.length===0?b.length===a.length:d.eq(b[0],a[0])&&d.eq(b.slice(1),a.slice(1))},x=function(b,a){var c,e=[];for(c in b){e.push(c);if(b.hasOwnProperty(c)&&!d.eq(b[c],a[c]))return false}for(c in a)if(a.hasOwnProperty(c)&&!d(e).has(c)&&!d.eq(b[c],a[c]))return false;return true},y=function(b,a){return b.source===a.source&&
b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline};d.eq=d.autoCurry(function(b,a){var c=j(b);if(c!==j(a))return false;else switch(c){case "[object Array]":return w(b,a);case "[object Object]":return x(b,a);case "[object RegExp]":return y(b,a);case "[object Date]":return b.valueOf()===a.valueOf();default:return b===a}});var z=function b(a,c){var e=j(c),f=j(a),g;if(a===d.___)return true;else if(f==="[object Function]"){if(i(c,a))return true;if(a===String&&e==="[object String]")return true;
return a===Number&&e==="[object Number]"?true:c===a}else if(f!==e){if(f==="[object RegExp]"&&e==="[object String]")return a.test(c);return false}else if(f==="[object Array]")return a.length===0?c.length===0:b(a[0],c[0])&&b(a.slice(1),c.slice(1));else if(f==="[object Object]"){for(g in a)if(a.hasOwnProperty(g)&&!b(a[g],c[g]))return false;return true}else return d.eq(a,c)};d.match=function(){var b=h(arguments);return function(){for(var a=h(arguments),c=0;c<b.length;c+=2)if(z(b[c],a))return j(b[c+1])===
"[object Function]"?b[c+1].apply(this,a):b[c+1];throw new TypeError("wu.match: The form did not match any given pattern.");}};d.not=function(b){return function(){return!b.apply(this,arguments)}};d.partial=function(b){var a=l.call(arguments,1);return a.length<1?b:function(){var c,e=h(a),f=h(arguments);for(c=0;c<e.length;c++)if(e[c]===d.___)e[c]=f.shift();return b.apply(this,e.concat(f))}};var q=function(b,a,c){b-=c;return d.Iterator(function(){return b+c>=a?this.stop():(b+=c)})};d.range=function(){switch(arguments.length){case 1:return q(0,
arguments[0],1);case 2:return q(arguments[0],arguments[1],1);case 3:return q(arguments[0],arguments[1],arguments[2]);default:throw new TypeError("wu.js: Wrong number of arguments passed to wu.range!");}};d.toBool=n;d.toArray=h;d.zip=function(){var b=d(arguments).map(r).force();return d.Iterator(function(){var a=d(b).dot("next").force();return a.length===b.length?a:this.stop()})};d.tang={clan:36}})(function(){return window}());
